<!-- OVERLAY -->
<div class="modal-overlay" [class.visible]="isVisible" (click)="onOverlayClick($event)">

    <!-- MODAL WRAPPER -->
    <div class="modal-wrapper" [class.visible]="isVisible">

        <!-- Contenido del Modal -->
        <div role="dialog" class="modal">

            <!-- HEADER -->
            <div class="modal-header">
                <h2 class="modal-title">Registrar Nuevo Contenido</h2>
                <p class="modal-description">
                    Completa la información del contenido multimedia que deseas agregar al sistema.
                </p>
            </div>

            <form class="modal-form" (ngSubmit)="onSubmit($event)">

                <!-- ARCHIVO -->
                <!-- ARCHIVO -->
                <div class="form-group">
                    <label class="form-label">Archivo *</label>

                    <div class="drag-area" [class.dragover]="isDragOver" (click)="fileInput.click()"
                        (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)">

                        <!-- INPUT REAL OCULTO -->
                        <input #fileInput type="file" hidden (change)="onFileSelected($event)" />

                        <!-- ICONO -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="drag-icon" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" />
                            <path d="M14 2v4a2 2 0 0 0 2 2h4" />
                        </svg>

                        <!-- TEXTO -->
                        <p class="drag-text" *ngIf="!selectedFile">
                            Arrastra un archivo aquí o haz click para seleccionarlo
                        </p>

                        <p class="drag-text file-name" *ngIf="selectedFile">
                            {{ selectedFile.name }}
                        </p>

                        <button type="button" class="btn btn-secondary btn-sm">
                            Seleccionar Archivo
                        </button>

                    </div>
                </div>

                <!-- TIPO -->
                <div class="form-group">
                    <label class="form-label">Tipo de Contenido *</label>
                    <select class="form-select" [(ngModel)]="selectedTypeId" name="contentType" required>

                        <option [ngValue]="null" disabled>
                            Selecciona un tipo
                        </option>

                        <option *ngFor="let type of contentTypes" [ngValue]="type.id">
                            {{ type.name }}
                        </option>
                    </select>

                </div>

                <!-- TÍTULO -->
                <div class="form-group">
                    <label class="form-label">Título *</label>
                    <input type="text" placeholder="Título del contenido" class="form-input" />
                </div>

                <!-- DESCRIPCIÓN -->
                <div class="form-group">
                    <label class="form-label">Descripción</label>
                    <textarea rows="3" placeholder="Descripción detallada del contenido"
                        class="form-textarea"></textarea>
                </div>

                <!-- CATEGORÍA -->
                <!-- <div class="form-group">
                    <label class="form-label">Categoría *</label>
                    <select class="form-select">
                        <option>Noticias</option>
                        <option>Deportes</option>
                        <option>Cultura</option>
                        <option>Eventos</option>
                        <option>Entrevistas</option>
                        <option>Documentales</option>
                        <option>Archivo Histórico</option>
                    </select>
                </div> -->

                <!-- UBICACIÓN -->
                <div class="form-group">
                    <label class="form-label">Ubicación de Almacenamiento *</label>
                    <select class="form-select">
                        <option>Servidor Principal - Redacción</option>
                        <option>Disco NAS - Archivo</option>
                        <option>Disco Externo HD-01</option>
                        <option>Disco Externo HD-02</option>
                        <option>Estación Edición 1</option>
                        <option>Estación Edición 2</option>
                        <option>Portátil Reportero A</option>
                    </select>
                </div>

                <!-- ESTADO -->
                <div class="form-group">
                    <label class="form-label">Estado</label>
                    <select class="form-select">
                        <option value="publicado">Publicado</option>
                        <option value="borrador" selected>Borrador</option>
                        <option value="archivado">Archivado</option>
                    </select>
                </div>

                <!-- ETIQUETAS -->
                <div class="form-group">
                    <label class="form-label">Etiquetas</label>
                    <div class="tags-input">
                        <input type="text" placeholder="Escribe y presiona Enter" class="form-input" />
                        <button type="button" class="btn btn-secondary btn-sm">
                            Agregar
                        </button>
                    </div>
                </div>

                <!-- FOOTER -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="onClose()">
                        Cancelar
                    </button>

                    <button type="submit" class="btn btn-primary">
                        Registrar Contenido
                    </button>
                </div>

            </form>

            <!-- BOTÓN CERRAR -->
            <button type="button" class="modal-close" (click)="onClose()">
                <svg xmlns="http://www.w3.org/2000/svg" class="close-icon" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg>
            </button>

        </div>
    </div>
</div>