<section class="center-page">

    <div class="card">
        <div class="card-header">
            <div class="icon-container">
                <div class="icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon">
                        <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
                        <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                        <path d="m10 11 5 3-5 3v-6Z"></path>
                    </svg>
                </div>
            </div>
            <h4 class="card-title">Sistema de Gesti√≥n Multimedia</h4>
            <p class="card-description">Ingresa tus credenciales para acceder al sistema</p>
        </div>
        <div class="card-content">
            <form class="form" (submit)="onSubmit($event)">
                <div class="form-group">
                    <label class="form-label" for="username">Usuario</label>
                    <input type="text" class="form-input" id="username" name="username" placeholder="Ingresa tu usuario"
                        ngModel required value="">
                </div>
                <div class="form-group">
                    <label class="form-label" for="password">Contrase√±a</label>
                    <div class="input-wrapper">
                        <input [type]="showPassword ? 'text' : 'password'" class="form-input" id="password"
                            name="password" placeholder="Ingresa tu contrase√±a" ngModel required value="">
                        <button class="toggle-password" (click)="onTogglePassword()" type="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0">
                                </path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                </div>
                <button class="btn btn-primary" type="submit">Iniciar Sesi√≥n</button>

               <!-- <p id="errorDisplay" class="errorDisplay error">Usuario o contrase√±a incorrectos</p> -->
                <div hidden id="errorDisplay" class="errorDisplay">
                    <span class="error-icon">‚ö†</span>
                    <div class="error-content">
                        <strong>Error de autenticaci√≥n</strong>
                        <p >Usuario o contrase√±a incorrectos</p>
                    </div>
                </div>

            </form>
            <div class="test-credentials">
                <p class="test-credentials-title">Credenciales de prueba:</p>
                <div class="credentials-list">
                    <div class="credential-item">
                        <p class="credential-item-title">üîê Administrador</p>
                        <p class="credential-text">Usuario: <span class="credential-mono">admin</span></p>
                        <p class="credential-text">Contrase√±a: <span class="credential-mono">admin</span></p>
                        <p class="credential-note">‚úì Acceso completo (crear, editar, eliminar)</p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const loginForm = document.querySelector('#loginForm')
    const debug = document.querySelector('#pruebas')

    debug.innerHTML += "Funciona!"
    loginForm.addEventListener('submit', (e) => {

        debug.innerHTML += JSON.stringify(e)

        fetch('https://localhost:3000/api/login').then((res) => JSON.parse(res))
            .then((data) => {
                debug.innerHTML += JSON.stringify(data)
            })
    })

</script>